<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 9">
<meta name=Originator content="Microsoft Word 9">
<link rel=File-List href="./Proiect%205_files/filelist.xml">
<title>Proiect 1</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>alex</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>alex</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>139</o:TotalTime>
  <o:Created>2003-05-07T06:12:00Z</o:Created>
  <o:LastSaved>2003-05-07T06:12:00Z</o:LastSaved>
  <o:Pages>2</o:Pages>
  <o:Words>919</o:Words>
  <o:Characters>5241</o:Characters>
  <o:Company>HOME</o:Company>
  <o:Lines>43</o:Lines>
  <o:Paragraphs>10</o:Paragraphs>
  <o:CharactersWithSpaces>6436</o:CharactersWithSpaces>
  <o:Version>9.2720</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:DrawingGridHorizontalSpacing>3.6 pt</w:DrawingGridHorizontalSpacing>
  <w:DrawingGridVerticalSpacing>9.35 pt</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>2</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:"Times New Roman Special G1";
	panose-1:5 2 6 3 5 4 5 2 3 4;
	mso-font-charset:2;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:Arial;
	mso-font-kerning:16.0pt;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:justify;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
@page Section1
	{size:595.45pt 841.7pt;
	margin:46.75pt .8in 46.75pt 1.3in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-gutter-margin:.1in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
@list l0
	{mso-list-id:696469634;
	mso-list-type:hybrid;
	mso-list-template-ids:409515246 751626594 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0
	{mso-level-start-at:0;
	mso-level-number-format:bullet;
	mso-level-text:-;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
@list l1
	{mso-list-id:1494905865;
	mso-list-type:hybrid;
	mso-list-template-ids:-1064149990 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l1 
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
</head>

<body lang=EN-US style='tab-interval:.5in'>

<div class=Section1>

<h1>Proiectul 1</h1>

<p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal style='text-align:justify'><i>S&#259; se construias&#259; un
sistem de fi&#351;iere pe un disk virtual.</i></p>

<p class=MsoNormal style='text-align:justify'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>


<p class=MsoNormal style='text-align:justify'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal style='text-align:justify'>================================================================</p>

<p class=MsoNormal style='text-align:justify'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal style='text-align:justify'>Diskul virtual este implementat
de interfa&#355;a <i>proiect1.filesystem.DiskInterface</i> &#351;i de clasa <i>proiect1.filesystem.Disk</i>.
Aceast&#259; clas&#259; a fost implementat&#259; ca exemplu; metodele sale au
con&#355;inut &#351;i nu trebuie rescrise.</p>

<p class=MsoNormal style='text-align:justify'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal style='text-align:justify'>Clasa <i>Disk</i> con&#355;ine
diskul ce îl simuleaz&#259; &#351;i metodele de lucru cu acest disc (de formatare,
de citire, de scriere &#351;i de aflare a dimensiunii).</p>

<p class=MsoNormal style='text-align:justify'>Un disk virtual este o matrice
bidimensional&#259; de octe&#355;i. Prima dimensiune indic&#259; num&#259;rul
de blocuri (clustere) con&#355;inute pe disk iar a doua dimensiune
reprezint&#259; m&#259;rimea unui bloc. Pentru acest simulator, dimensiunea
unui bloc va coincide cu 1024 octe&#355;i &#351;i putem presupune c&#259; orice
bloc este format din 2 sectoare (m&#259;rimea unui sector va fi de 512
octe&#355;i). Elementul de baz&#259; a diskului este blocul (nu sectorul !).</p>

<p class=MsoNormal style='text-align:justify'>Presupunând c&#259; dimensiunea
diskului este <i>size</i>, crearea unui nou disk se va face cu
instruc&#355;iunea:<span style='mso-tab-count:1'>   </span><span
style='mso-tab-count:1'>  <BR>          </span>disk = new byte[<i>size</i>][];</p>

<p class=MsoNormal style='text-align:justify'><span style='font-family:"Times New Roman Special G1";
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:"Times New Roman Special G1"'><span
style='mso-char-type:symbol;mso-symbol-font-family:"Times New Roman Special G1"'>�</span></span>&Icirc;n
acest fel, matricea este creat&#259; dar nu este ini&#355;ializat&#259;. disk
este o matrice 1-dimensional&#259; de matrici 1-dimensionale, iar memoria va fi alocat&#259;
separat, pentru fiecare element, în momentul ini&#355;ializ&#259;rii acestuia. Dac&#259; am fi precizat &#351;i a doua
dimensiune cu o instruc&#355;iune:</p>

<p class=MsoNormal style='text-align:justify'><span style='mso-tab-count:2'>                        </span><span
style='mso-tab-count:1'>            </span>disk = new byte[<i>size</i>][BLOCK_SIZE];</p>

<p class=MsoNormal style='text-align:justify'>atunci ar fi fost aloca&#355;i <i>size*</i>
BLOCK_SIZE octe&#355;i de memorie &#351;i deci, nu pot fi simulate discuri cu o
dimensiune prea mare.</p>

<p class=MsoNormal style='text-align:justify'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal style='text-align:justify'>Acest disk va fi organizat ca un
disk real &#351;i va con&#355;ine 2 zone: <i>zona de sistem</i> &#351;i <i>zona
de date</i>. Zona sistem este împ&#259;r&#355;it&#259; în urm&#259;toarele
zone:</p>

<ol style='margin-top:0in' start=1 type=1>
 <li class=MsoNormal style='text-align:justify;mso-list:l1 level1 lfo1;
     tab-stops:list .5in'>Zona BOOT</li>
 <li class=MsoNormal style='text-align:justify;mso-list:l1 level1 lfo1;
     tab-stops:list .5in'>Zona FAT </li>
 <li class=MsoNormal style='text-align:justify;mso-list:l1 level1 lfo1;
     tab-stops:list .5in'>Zona ROOT </li>
</ol>

<p class=MsoNormal style='text-align:justify'><span style='font-family:"Times New Roman Special G1";
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:"Times New Roman Special G1"'><span
style='mso-char-type:symbol;mso-symbol-font-family:"Times New Roman Special G1"'>�</span></span>&Icirc;n
urma format&#259;rii, sunt stabilite dimensiunea &#351;i blocul de start pentru
fiecare zon&#259; iar blocurile zonei sistem sunt alocate &#351;i scrise cu
valoarea descriptorului de mediu (în cazul nostru, acest DESCRIPTOR va fi 00
HEX, spre deosebire de un disk real unde este F6 HEX). </p>

<p class=MsoNormal style='text-align:justify'>Zona BOOT ocup&#259; primul block
&#351;i nu va fi folosit&#259;. <span style='font-family:"Times New Roman Special G1";
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:"Times New Roman Special G1"'><span
style='mso-char-type:symbol;mso-symbol-font-family:"Times New Roman Special G1"'>�</span></span>&Icirc;n
cazul dezvolt&#259;rii programului, aceast&#259; zon&#259; poate con&#355;ine
un program de lansare.</p>

<p class=MsoNormal style='text-align:justify'>Zona FAT (File Allocation Table)
reprezint&#259; tabelul aloc&#259;rii de spa&#355;iu pentru fi&#351;ierele de
pe disk. Fiecare fi&#351;ier are alocate un num&#259;r întreg de blocuri (chiar
dac&#259; nu ocup&#259; întreg spa&#355;iul din ultimul bloc). Acest num&#259;r
este &gt;= 1 pentru fiecare fi&#351;ier. Primul block al fi&#351;ierului este
alocat la crearea acestuia. Intr&#259;rile din FAT vor avea o lungime de 32
bi&#355;i (ca s&#259; putem simula diskuri cu dimensiuni mari). Deci fiecare
intrare din FAT ocup&#259; 4 octe&#355;i. Fiecare bloc din zona de date are
asociat&#259; câte o intrare în FAT (intrarea 1 corespunde primului bloc din
zona de date, &#351;amd). <span style='font-family:"Times New Roman Special G1";
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:"Times New Roman Special G1"'><span
style='mso-char-type:symbol;mso-symbol-font-family:"Times New Roman Special G1"'>�</span></span>&Icirc;n
momentul cre&#259;rii unui fi&#351;ier/director, se caut&#259; în FAT prima
intrare cu con&#355;inutul == DESCRIPTOR. Aceasta înseamn&#259; c&#259; blocul
corespunz&#259;tor nu este ocupat de un alt fi&#351;ier/director. Blocul
respectiv va fi blocul de start al fi&#351;ierului/directorului. Intrarea din
FAT va fi scris&#259; cu –1 (FF FF FF FF), aceasta reprezentând faptul c&#259;
este ultimul bloc al fi&#351;ierului/directorului. <span style='font-family:
"Times New Roman Special G1";mso-ascii-font-family:"Times New Roman";
mso-hansi-font-family:"Times New Roman";mso-char-type:symbol;mso-symbol-font-family:
"Times New Roman Special G1"'><span style='mso-char-type:symbol;mso-symbol-font-family:
"Times New Roman Special G1"'>�</span></span>&Icirc;n momentul în care spa&#355;iul
primului bloc de date este epuizat, se caut&#259; în FAT o nou&#259; intrare
liber&#259;. <span style='font-family:"Times New Roman Special G1";mso-ascii-font-family:
"Times New Roman";mso-hansi-font-family:"Times New Roman";mso-char-type:symbol;
mso-symbol-font-family:"Times New Roman Special G1"'><span style='mso-char-type:
symbol;mso-symbol-font-family:"Times New Roman Special G1"'>�</span></span>&Icirc;n
intrarea precedent&#259; se va scrie adresa noii intr&#259;ri, iar în noua
intrare se va scrie –1, &#351;amd.</p>

<p class=MsoNormal style='text-align:justify'>Deoarece intr&#259;rile din FAT
sunt pe 32 bi&#355;i, pot fi stocate în acestea adrese mari, lucru ce ne permite crearea unor disk-uri de dimensiuni mari. Pentru dimensiuni &#351;i mai mari, putem folosi FAT 64.</p>

<p class=MsoNormal style='text-align:justify'>ROOT reprezint&#259; zona în
care se scriu datele directoarelor &#351;i fi&#351;ierelor. Fiecare intrare din
aceast&#259; zon&#259; va avea o lungime de 32 octe&#355;i &#351;i este
organizat&#259; în felul urm&#259;tor:</p>

<p class=MsoNormal style='margin-left:.5in;text-align:justify;text-indent:-.25in;
mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>octetul 0 este octetul de stare. Acest octet poate
con&#355;ine informa&#355;ii privind modificarea fi&#351;ierului/directorului,
etc. Daca fi&#351;ierul/directorul respectiv este &#351;ters, acest octet va fi
scris cu E5 HEX, f&#259;r&#259; s&#259; se &#351;tearg&#259; altceva.</p>

<p class=MsoNormal style='margin-left:.5in;text-align:justify;text-indent:-.25in;
mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>octe&#355;ii 1 – 14 vor con&#355;ine numele
fi&#351;ierului/directorului</p>

<p class=MsoNormal style='margin-left:.5in;text-align:justify;text-indent:-.25in;
mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>octe&#355;ii 15 – 18 vor con&#355;ine dimensiunea (la
directoare pot con&#355;ine dimensiunea tuturor fi&#351;ierelor con&#355;inute
(nu &#351;i cele din subdirectoare))</p>

<p class=MsoNormal style='margin-left:.5in;text-align:justify;text-indent:-.25in;
mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>octe&#355;ii 19 – 20 vor con&#355;ine data la care a fost
creat/modificat, codificat&#259; dup&#259; rela&#355;ia:<span
style="mso-spacerun: yes">      </span>ziua + 32*luna+ 512*anul;</p>

<p class=MsoNormal style='margin-left:.5in;text-align:justify;text-indent:-.25in;
mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>octe&#355;ii 21 – 22 vor con&#355;ine timpul la care a fost
creat/modificat, codificat dup&#259; rela&#355;ia:<span style="mso-spacerun:
yes">     </span>secunda/2 + 32*minutul + 2048*ora</p>

<p class=MsoNormal style='margin-left:.5in;text-align:justify;text-indent:-.25in;
mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>octe&#355;ii 23 – 26 vor con&#355;ine indexul blocului de
start</p>

<p class=MsoNormal style='margin-left:.5in;text-align:justify;text-indent:-.25in;
mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>octetul 27 va con&#355;ine atributele
fi&#351;ierului/directorului (vor fi implementate urm&#259;toarele atribute:
Read-Only (1), Hidden (2), Directory (16), Encrypt (64))</p>

<p class=MsoNormal style='margin-left:.5in;text-align:justify;text-indent:-.25in;
mso-list:l0 level1 lfo2;tab-stops:list .5in'><![if !supportLists]>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><![endif]>octe&#355;ii 28 – 31 vor con&#355;ine indexul intr&#259;rii
din ROOT (de tipul director) ce con&#355;ine directorul/fi&#351;ierul respectiv</p>

<p class=MsoBodyText><span style='font-family:"Times New Roman Special G1";
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:"Times New Roman Special G1"'><span
style='mso-char-type:symbol;mso-symbol-font-family:"Times New Roman Special G1"'>�</span></span>&Icirc;n
momentul cre&#259;rii unui fi&#351;ier/director, se caut&#259; o intrare
liber&#259; în ROOT. O intrare este liber&#259; dac&#259; octetul s&#259;u de
stare are valoarea E5 (semn c&#259; a fost &#351;tears&#259;) sau to&#355;i
octe&#355;ii s&#259;i au valoarea DESCRIPTOR. <span style='font-family:"Times New Roman Special G1";
mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman";
mso-char-type:symbol;mso-symbol-font-family:"Times New Roman Special G1"'><span
style='mso-char-type:symbol;mso-symbol-font-family:"Times New Roman Special G1"'>�</span></span>&Icirc;n
momentul format&#259;rii, este introdus&#259; în ROOT prima intrare &#351;i
anume, intrarea directorului ROOT. Aceast director va con&#355;ine toate
celelalte directoare &#351;i fi&#351;iere. Directorul ROOT nu poate fi
&#351;ters decât prin formatare.</p>

<p class=MsoNormal style='text-align:justify'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal style='text-align:justify'>Dac&#259; o intrare este de tipul
director (octetul de atribute are bitul 5 setat), con&#355;inutul s&#259;u din
zona de date va fi format din intr&#259;ri pe 4 octe&#355;i ce con&#355;in
indec&#351;ii intr&#259;rilor din ROOT con&#355;inute (fi&#351;iere sau
directoare).</p>

<p class=MsoNormal style='text-align:justify'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal style='text-align:justify'>Sfâr&#351;itul de fi&#351;ier
(EOF) va fi marcat cu (int)(-1) (adic&#259; FF FF FF FF).</p>

<p class=MsoNormal style='text-align:justify'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoBodyText>Zona de date va fi prima dimensionat&#259; &#351;i va fi
95% din dimensiunea diskului, pentru diskuri &gt; 64 K, &#351;i dimensiuni mai
mici pentru discuri mai mici. Acest procent va fi ales astfel încât s&#259;
existe spa&#355;iu pentru toate zonele dar, în acela&#351;i timp, s&#259; nu se
fac&#259; risip&#259; de spa&#355;iu. BOOT începe cu blocul 0. FAT începe cu
blocul 1. Num&#259;rul de intr&#259;ri din FAT trebuie s&#259; fie &gt;=
num&#259;rul de blocuri din zona de date. Deci &#351;tim dimensiunea zonei FAT
&#351;i prin urmare &#351;tim blocul de start al zonei ROOT. Dimensiunea zonei
ROOT se ob&#355;ine prin diferen&#355;&#259;. Prin urmare, ob&#355;inem &#351;i
blocul de start al zonei de date.</p>

<p class=MsoNormal style='text-align:justify'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal style='text-align:justify'>================================================================</p>

<p class=MsoNormal style='text-align:justify'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p>

<p class=MsoNormal style='text-align:justify'>Proiectul const&#259; în
implementarea interfe&#355;elor din pachetul <i>proiect1.filesystem. </i>(Citi&#355;i
cu aten&#355;ie sursele claselor &#351;i interfe&#355;elor din acest pachet).</p>

<p class=MsoNormal style='text-align:justify'>Pentru o abordare unitar&#259;, a
fost construit&#259; clasa <i>Console.<o:p></o:p></i></p>

<p class=MsoNormal style='text-align:justify'><i><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></i></p>

<p class=MsoNormal style='text-align:justify'>Deci, </p>

<p class=MsoNormal align=center style='text-align:center'><b><span
style='font-size:13.0pt;mso-bidi-font-size:12.0pt'>fiecare student trebuie
s&#259; scrie cod pentru toate metodele din clasa </span></b><i><span
style='font-size:13.0pt;mso-bidi-font-size:12.0pt'>Console.</span></i><span
style='font-size:13.0pt;mso-bidi-font-size:12.0pt'><o:p></o:p></span></p>

<p class=MsoNormal><span style='font-size:13.0pt;mso-bidi-font-size:12.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p>

<p class=MsoNormal style='text-align:justify'>Timp de lucru: 3
s&#259;pt&#259;mâni</p><BR><BR>

<p class=MsoNormal><span style='font-size:13.0pt;mso-bidi-font-size:12.0pt'>ATEN&#354;IE
!<o:p></o:p></span></p>

<p class=MsoNormal>Este strict interzis&#259; orice form&#259; de plagiat.
Proiectele foarte asem&#259;n&#259;toare vor fi punctate cu 0.</p>

</div>

</body>

</html>
